!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).vanillaObserver=t()}(this,function(){"use strict";var n=function(){var i=this;this.eventList={},this.next=function(n){Object.keys(i.eventList).forEach(function(e){var t=i.eventList[e];t&&t(n)})},this.subscribe=function(e){var t=Date.now()+Math.random();return i.eventList[t]=e,{unsubscribe:function(){delete i.eventList[t]}}}};return function(t,e){var o=new n;return o.state=t,o.actions=e||{},o.nextState=function(e){e&&e(t),o.next(t)},o.subscribeTarget=function(t,n,i){var r=o.subscribe(function(e){if(!document.contains(t))return r.unsubscribe(),void(i&&i(e));n(e)})},o.subscribeFilter=function(r,s){var u=r(t),c=u.length;return o.subscribe(function(e){for(var t=r(e),n=!0,i=0;i<c;i++)if(t[i]!==u[i]){n=!1;break}n||(s(e),u=t)})},o.subscribeFilterTarget=function(t,e,n,i){var r=o.subscribeFilter(e,function(e){if(!document.contains(t))return r.unsubscribe(),void(i&&i(e));n(e)})},o}});
//# sourceMappingURL=index.js.map
