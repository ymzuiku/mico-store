!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).vanillaObserver=t()}(this,function(){"use strict";return function(e,t){void 0===t&&(t=!0);var a={state:e,events:new Set,listen:function(e,t){return t.getMemo=e,t.lastMemo=e(a.state),a.events.has(t)||a.events.add(t),function(){a.events.delete(t)}},unListen:function(e){a.events.delete(e)},beforeUpdate:function(e){e&&e(a.state)},connectElement:function(n,e,o,t){if(void 0===t&&(t=!0),document&&document.createElement){var i=a.listen(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];document.body.contains(n)?o.apply(void 0,e):i()});t&&o.apply(void 0,e(a.state))}},update:function(e){a.beforeUpdate(e),function(e,t){e?window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(function(){t()},30):t()}(t,function(){a.events.forEach(function(e){if(e.getMemo&&e.lastMemo){for(var t=e.getMemo(a.state),n=!1,o=0;o<e.lastMemo.length;o++){if(e.lastMemo[o]!==t[o]){n=!0;break}}e.lastMemo=t,n&&e.apply(void 0,e.lastMemo)}else e.apply(void 0,e.lastMemo)})})}};return document&&document.createElement||(a.connectElement=null),a}});
//# sourceMappingURL=index.js.map
